
BEGIN {
 FS = ","

}

{c = NF
   
while (FNR==NR) {

for (j = 1; j <= c; j++) {
print(X[j] = $j)

}
print(b =length(X))
next
}




{ 

c = NF - 1 
     print("----+")

    for (i = 1; i <= c; i++) { #for every field in line
      print("----")
 
              (split($i, a, "=")) #split field by eq sign
	
                
if (X[1-b] == a[1])
                    
                     print a[2] #a[2] has just data

        }
         
    }


}
